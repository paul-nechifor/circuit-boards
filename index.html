<!doctype html>
<html>
<head>
    <script src='js/Board.js'></script>
    <script src='js/ChoicePool.js'></script>
    <script src='js/DrawBoard.js'></script>
    <script src='js/Element.js'></script>
    <script src='js/Line.js'></script>
    <script src='js/SmallHole.js'></script>
    <script src='js/Square.js'></script>
    <script src='js/aStar.js'></script>
</head>
<body>
    <canvas id="tile"></canvas>
    <button onclick="main()">Repeat</button>
    <script>

        function partitionParamFunc(size) {
            if (size < 20) {
                return [4, 5];
            } else if (size < 30) {
                return [6, 7];
            } else if (size < 100) {
                return [8, 6];
            } else if (size < 1000) {
                return [10, 5];
            } else {
                return [15, 4];
            }
        }

        function getInputValues() {
            var connectionTypePool = new ChoicePool();
            connectionTypePool.addChoice(30, new SmallHole());
            connectionTypePool.addChoice(5, new Square());
            
            var typePool = new ChoicePool();
            typePool.addChoice(20, 'connection');
            typePool.addChoice(2, 'text');

            return {
                canvas: document.getElementById("tile"),
                connectionTypePool: connectionTypePool,
                typePool: typePool,
                size: 64,
                abandonPartitionSize: 4,
                partitionParamFunc: partitionParamFunc,
                cellSize: 8,
                backgroundColor: "#112211",
                circuitPrimaryColor: "#116611",
                circuitSecondaryColor: "#666611",
                squareRelativeSize: 0.7,
                circuitPrimaryLineWidth: 0.26
            };
        }

        function main() {
            var drawBoard = new DrawBoard(getInputValues());
            drawBoard.startDrawing();
        }

        main();
    
    </script>
</body>
</html>